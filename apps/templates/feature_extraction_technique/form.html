{% load i18n %}

<form method="POST" enctype="multipart/form-data" >{% csrf_token %}
    <h6 class="heading-small text-muted mb-4">{% blocktranslate %}General information{% endblocktranslate %}</h6>
    <div class="pl-lg-4">
    <div class="col-lg-12">
        <div class="form-group">
        <label class="form-control-label" for="input-title">{% blocktranslate %}Identifier {% endblocktranslate %}<b class="text-red">*</b></label>
        {{ form.identifier }}
        <div class="form-validation">{{ form.identifier.errors }}</div>
        </div>
    </div>
    <div class="col-lg-12">
        <div class="form-group">
        <label class="form-control-label" for="input-title">{% blocktranslate %}Technique {% endblocktranslate %}<b class="text-red">*</b></label>
        {{ form.technique_name }}
        <div class="form-validation">{{ form.technique_name.errors }}</div>
        </div>
    </div>
    </div>
    <hr>
    <h6 class="heading-small text-muted mb-4">{% blocktranslate %}Configurations{% endblocktranslate %}</h6>
    <div class="pl-lg-4">
    <div class="col-lg-12">
        <div class="form-group">
        {{ form.consider_relevant_compos }}
        <label class="form-control-label" for="input-title">{% blocktranslate %}Apply filtering (Relevant Component Selection){% endblocktranslate %}</label>
        <div class="form-validation">{{ form.consider_relevant_compos.errors }}</div>
        </div>
        <div class="form-group">
        <label class="form-control-label" for="input-title">{% blocktranslate %}Condition for a UI component to be relevant{% endblocktranslate %}</label>
        {{ form.relevant_compos_predicate }}
        <div class="form-validation">{{ form.relevant_compos_predicate.errors }}</div>
        </div>
    </div>
    </div>
    <button class="btn btn-success"  style="float: right;" type="submit" value="submit" >
    <i class="fas fa-save"></i> 
    {% blocktranslate %}Save{% endblocktranslate %}
    </button>
</form>
<!-- Specific JS goes HERE --> 
{% block javascripts %}
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const rel_comp_pred = document.getElementById('id_consider_relevant_compos')
      if (rel_comp_pred.checked) {
          document.getElementById('id_relevant_compos_predicate').disabled = false;
      } else {
          document.getElementById('id_relevant_compos_predicate').disabled = true;
      }
      rel_comp_pred.onchange = () => {
        if (rel_comp_pred.checked) {
          document.getElementById('id_relevant_compos_predicate').disabled = false;
        } else {
          document.getElementById('id_relevant_compos_predicate').disabled = true;
        }
      }
    })
  </script>
{% endblock javascripts %}